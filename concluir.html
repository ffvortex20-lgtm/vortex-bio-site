<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Concluir</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial;
  text-align:center;
}
.box{
  max-width:400px;
  margin:40px auto;
  padding:20px;
}
button,a{
  display:block;
  margin:10px auto;
  padding:12px;
  width:100%;
  border:none;
  border-radius:6px;
  background:#444;
  color:white;
  text-decoration:none;
  font-weight:bold;
}
#download{display:none;background:green;}
img{width:120px;border-radius:50%;margin:10px}
</style>
</head>

<body>
<div class="box">
  <h2 id="titulo"></h2>
  <img id="foto">

  <button onclick="abrir(youtube)">YouTube</button>
  <button onclick="abrir(instagram)">Instagram</button>
  <button onclick="abrir(telegram)">Telegram</button>
  <button onclick="abrir(tiktok)">TikTok</button>
  <button onclick="abrir(kwai)">Kwai</button>
  <button onclick="abrir(grupo)">WhatsApp Grupo</button>
  <button onclick="abrir(canal)">WhatsApp Canal</button>

  <a id="download">⬇ Download</a>
</div>

<script>
const id = location.hash.replace("#","");
const dados = JSON.parse(localStorage.getItem("bio_"+id));

if(!dados){
  document.body.innerHTML="Link inválido";
  throw 0;
}

titulo.innerText = dados.titulo;
document.body.style.background = "#000";

if(dados.foto) foto.src = dados.foto;

let total = 0;
let feitos = 0;

const links = ["youtube","instagram","telegram","tiktok","kwai","grupo","canal"];

links.forEach(l=>{
  if(dados[l]) total++;
});

function abrir(link){
  if(!link) return;
  window.open(link,"_blank");
  feitos++;

  if(feitos >= total){
    download.style.display="block";
    download.href = dados.download;
  }
}

var youtube=dados.youtube,
instagram=dados.instagram,
telegram=dados.telegram,
tiktok=dados.tiktok,
kwai=dados.kwai,
grupo=dados.grupo,
canal=dados.canal;
</script>
</body>
</html>
